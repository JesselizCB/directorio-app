<div class="navbar-menu">
  <a routerLink="/" class="nav-link logo-link">
    <img src="assets/logo_mandu.svg" alt="Mandu" height="20" width="78" />
  </a>

  @for (item of menuItems(); track item.label) {
    <nz-divider nzType="vertical" class="nav-divider" />
    
    @if (item.hasDropdown && item.dropdownItems) {
      <a
        routerLinkActive="active"
        [routerLinkActiveOptions]="{ exact: false }"
        class="nav-link"
        nz-dropdown
        nzTrigger="click"
        [nzDropdownMenu]="dropdownMenu"
        (nzVisibleChange)="onDropdownVisibleChange(item.label, $event)"
      >
        {{ item.label }}
        <span 
          nz-icon 
          [nzType]="isDropdownOpen(item.label) ? 'up' : 'down'"
          style="margin-left: 8px; font-size: 12px;">
        </span>
      </a>
      <nz-dropdown-menu #dropdownMenu="nzDropdownMenu">
        <ul nz-menu>
          @for (dropdownItem of item.dropdownItems; track dropdownItem.label) {
            <li nz-menu-item [routerLink]="dropdownItem.route" routerLinkActive="active">
              {{ dropdownItem.label }}
            </li>
          }
        </ul>
      </nz-dropdown-menu>
    } @else {
      <a
        [routerLink]="item.route"
        routerLinkActive="active"
        [routerLinkActiveOptions]="{ exact: item.label === 'Dashboard' }"
        class="nav-link"
      >
        {{ item.label }}
      </a>
    }
  }
</div>
